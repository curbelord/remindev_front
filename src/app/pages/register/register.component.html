<div class="mx-4 px-3 py-8 mt-8 rounded-3xl bg-stone-100 dark:bg-neutral-200 sm:mx-8 md:max-w-[500px] md:mx-auto md:p-12 lg:max-w-[600px] lg:p-20">
  <h1 class="text-2xl font-medium md:text-3xl mx-4 mb-10 md:mb-16">Register</h1>
  <form [formGroup]="registerForm" (ngSubmit)="sendRegisterForm($event)" method="post" action="" class="flex flex-wrap mx-4">
    @if (registerForm.get('fullRegistration')?.value) {
      <label [for]="inputAttrs[0]" class="md:text-lg mb-2 w-full">Name</label>
      <input
        [type]="inputTypes[0]"
        [id]="inputAttrs[0]"
        formControlName="name"
        [class]="'input input_padding ' + (registerForm.get('name')?.dirty ? (registerForm.get('name')?.invalid ? 'ring-red-400' : 'ring-emerald-400') : '')" />

      <app-form-error [form]="registerForm" [requiredError]="inputErrors[0]['required']" [patternError]="inputErrors[0]['pattern']" [inputName]="inputAttrs[0]" />

      <label [for]="inputAttrs[1]" class="md:text-lg mt-6 mb-2 w-full">Surname</label>
      <input
        [type]="inputTypes[0]"
        [id]="inputAttrs[1]"
        [name]="inputAttrs[1]"
        [class]="'input input_padding ' + (registerForm.get('surname')?.dirty ? (registerForm.get('surname')?.invalid ? 'ring-red-400' : 'ring-emerald-400') : '')"
        formControlName="surname" />

      <app-form-error [form]="registerForm" [requiredError]="inputErrors[1]['required']" [patternError]="inputErrors[1]['pattern']" [inputName]="inputAttrs[1]" />

      <label [for]="inputAttrs[2]" class="md:text-lg mt-6 mb-2 w-full">Birthdate</label>
      <p-calendar
        [maxDate]="maxBirthdate"
        [minDate]="minBirthdate"
        [defaultDate]="maxBirthdate"
        dateFormat="dd/mm/yy"
        [iconDisplay]="'input'"
        [showIcon]="true"
        [inputId]="inputAttrs[2]"
        [name]="inputAttrs[2]"
        formControlName="birthdate"
        [class]="'input ' + (registerForm.get('birthdate')?.dirty ? (registerForm.get('birthdate')?.invalid ? 'ring-red-400' : 'ring-emerald-400') : '')" />

      <app-form-error [form]="registerForm" [requiredError]="inputErrors[2]['required']" [patternError]="inputErrors[2]['pattern']" [inputName]="inputAttrs[2]" />

      <label [for]="inputAttrs[3]" class="md:text-lg mt-6 mb-2 w-full">Nick</label>
      <input
        [type]="inputTypes[0]"
        [id]="inputAttrs[3]"
        [name]="inputAttrs[3]"
        [class]="'input input_padding ' + (registerForm.get('nick')?.dirty ? (registerForm.get('nick')?.invalid ? 'ring-red-400' : 'ring-emerald-400') : '')"
        formControlName="nick" />

      <app-form-error [form]="registerForm" [requiredError]="inputErrors[3]['required']" [patternError]="inputErrors[3]['pattern']" [inputName]="inputAttrs[3]" />

      <label [for]="inputAttrs[4]" class="md:text-lg mt-6 mb-2 w-full">Company</label>
      <input
        [type]="inputTypes[0]"
        [id]="inputAttrs[4]"
        [name]="inputAttrs[4]"
        [class]="'input input_padding ' + (registerForm.get('company')?.dirty ? (registerForm.get('company')?.invalid ? 'ring-red-400' : 'ring-emerald-400') : '')"
        formControlName="company" />

      <app-form-error [form]="registerForm" [requiredError]="inputErrors[4]['required']" [patternError]="inputErrors[4]['pattern']" [inputName]="inputAttrs[4]" />

      <label [for]="inputAttrs[5]" class="md:text-lg mt-6 mb-2 w-full">Occupation</label>
      <input
        [type]="inputTypes[0]"
        [id]="inputAttrs[5]"
        [name]="inputAttrs[5]"
        [class]="'input input_padding ' + (registerForm.get('occupation')?.dirty ? (registerForm.get('occupation')?.invalid ? 'ring-red-400' : 'ring-emerald-400') : '')"
        formControlName="occupation" />

      <app-form-error [form]="registerForm" [requiredError]="inputErrors[5]['required']" [patternError]="inputErrors[5]['pattern']" [inputName]="inputAttrs[5]" />

      <label [for]="inputAttrs[6]" class="md:text-lg mt-6 mb-2 w-full">Email</label>
      <input
        [type]="inputTypes[2]"
        [id]="inputAttrs[6]"
        [name]="inputAttrs[6]"
        [class]="'input input_padding ' + (registerForm.get('email')?.dirty ? (registerForm.get('email')?.invalid ? 'ring-red-400' : 'ring-emerald-400') : '')"
        formControlName="email" />

      <app-form-error [form]="registerForm" [requiredError]="inputErrors[6]['required']" [patternError]="inputErrors[6]['pattern']" [inputName]="inputAttrs[6]" />
    }

    <label [for]="inputAttrs[7]" [class]="'md:text-lg ' + (registerForm.get('fullRegistration')?.value ? 'mt-6' : '') + ' mb-2 w-full'">Password</label>
    <input
      [type]="inputTypes[3]"
      [id]="inputAttrs[7]"
      [name]="inputAttrs[7]"
      [class]="'input input_padding ' + (registerForm.get('password')?.dirty ? (registerForm.get('password')?.invalid ? 'ring-red-400' : 'ring-emerald-400') : '')"
      formControlName="password" />

    <app-form-error [form]="registerForm" [requiredError]="inputErrors[7]['required']" [patternError]="inputErrors[7]['pattern']" [inputName]="inputAttrs[7]" />

    <label [for]="inputAttrs[8]" class="md:text-lg mt-6 mb-2 w-full">Re-enter your password</label>
    <input
      [type]="inputTypes[3]"
      [id]="inputAttrs[8]"
      [name]="inputAttrs[8]"
      [class]="'input input_padding ' + (registerForm.get('rePassword')?.dirty ? (registerForm.get('rePassword')?.invalid ? 'ring-red-400' : 'ring-emerald-400') : '')"
      formControlName="rePassword" />

    <app-form-error [form]="registerForm" [requiredError]="inputErrors[7]['required']" [patternError]="inputErrors[7]['pattern']" [inputName]="inputAttrs[8]" />

    <div class="flex items-center mt-6 mb-2">
      <p-checkbox
        formControlName="fullRegistration"
        [binary]="true"
        inputId="full_registration"
        class="mr-2"
        (click)="addOrRemoveFullValidations()" />
      <label for="full_registration">Full registration</label>
    </div>

    <button type="submit" id="sign_in" class="mt-6 py-2 px-2 outline-none text-white bg-emerald-500 focus:ring-2 ring-emerald-200 rounded-lg w-full md:text-lg">Sign up</button>
  </form>

  <div class="text-center w-full mt-8">
    <span class="block md:text-lg">Already have an account?</span>
    <a routerLink="/login" class="inline-block text-emerald-400 dark:text-emerald-900 hover:cursor-pointer md:text-lg">Sign in</a>
  </div>
</div>
